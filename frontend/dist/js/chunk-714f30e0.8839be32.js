(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-714f30e0"],{2513:function(e,t,n){"use strict";var r=n("d4ec"),s=n("bee2"),i=n("c427"),a=function(){function e(){Object(r["a"])(this,e)}return Object(s["a"])(e,[{key:"getAll",value:function(){return i["a"].get("/posts")}},{key:"get",value:function(e){return i["a"].get("/posts/".concat(e))}},{key:"create",value:function(e){return i["a"].post("/posts",e)}},{key:"updateAPost",value:function(e,t){return i["a"].put("/posts/".concat(e),t)}},{key:"delete",value:function(e){return i["a"].delete("/posts/".concat(e))}},{key:"deleteAll",value:function(){return i["a"].delete("/posts")}},{key:"deleteUser",value:function(e){return i["a"].delete("/user/".concat(e))}},{key:"getAnUser",value:function(e){return i["a"].get("/user/".concat(e))}},{key:"getAllUsers",value:function(){return i["a"].get("/user/")}},{key:"updateUser",value:function(e,t){return i["a"].put("/user/".concat(e),t)}},{key:"findByTitle",value:function(e){return i["a"].get("/posts?description=".concat(e))}}]),e}();t["a"]=new a},"2a37":function(e,t,n){"use strict";n("5ccf")},"5ccf":function(e,t,n){},c66d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row h-100 justify-content-center align-items-center"},[n("div",{staticClass:"col-md-8 gedf-main"},[n("div",{},[e._m(0),n("div",{staticClass:"card-body"},[n("div",{},[n("div",{staticClass:"post-heading"},[n("div",{staticClass:"container"},[n("header",{staticClass:"jumbotron"},[n("h3",[n("strong",[e._v(" "+e._s(e.currentUser.username)+" ")]),e._v(" Profil ")])]),e.editingUsername?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.username,expression:"currentUser.username"}],ref:"myTextarea",staticClass:"form-control input-dwn",attrs:{placeholder:"Type something here...",type:"text",id:"description"},domProps:{value:e.currentUser.username},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"username",t.target.value)}}}):n("p",{staticClass:"p-up"},[n("strong",[e._v("Username : "+e._s(e.currentUser.username)+" ")])]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.editingUsername,expression:"editingUsername"}],staticClass:"badge badge-secondary mr-2 btn-dwn ",attrs:{id:"btnC"},on:{click:function(t){return e.cancelEditUsername()}}},[e._v(" Cancel ")]),n("button",{staticClass:"badge badge-success btn-dwn  buttonCEC",attrs:{href:"#top"},on:{click:function(t){return e.editUserUsername(e.currentUser)}}},[e._v(" "+e._s(e.editingUsername?"Update":"Edit")+" ")]),e.editingEmail?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.email,expression:"currentUser.email"}],ref:"myTextarea",staticClass:"form-control input-dwn",attrs:{placeholder:"Type something here...","min-height":30,"max-height":350,type:"text",id:"description"},domProps:{value:e.currentUser.email},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"email",t.target.value)}}}):n("p",{staticClass:"p-up"},[n("strong",[e._v("Email : "+e._s(e.currentUser.email)+" ")])]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.editingEmail,expression:"editingEmail"}],staticClass:"badge badge-secondary mr-2  btn-dwn ",attrs:{id:"btnC"},on:{click:function(t){return e.cancelEditemail()}}},[e._v(" Cancel ")]),n("button",{staticClass:"badge badge-success  btn-dwn  buttonCEC",attrs:{href:"#top"},on:{click:function(t){return e.editUserEmail(e.currentUser)}}},[e._v(" "+e._s(e.editingEmail?"Update":"Edit")+" ")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.editingEmail,expression:"editingEmail"}],staticClass:"warning"}),n("br"),n("p",{},[n("strong",[e._v("Id :")]),e._v(" "+e._s(e.currentUser.id)+" ")]),e._l(e.currentUser.roles,(function(t,r){return n("p",{key:r},[n("strong",[e._v("Authorities:")]),e._v(" "+e._s(t)+" ")])})),e.currentUser.id?n("button",{staticClass:"badge badge-danger mr-2 btn-up-del float-right",on:{click:e.editDeleteUser}},[e._v(" Delete account ")]):e._e()],2)])])])])])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-inline-flex p-2"},[r("img",{staticClass:"title-img",attrs:{src:n("8de2"),alt:"icon logo titi"}}),r("h4",{staticClass:"title-pos"},[e._v("Profil ")])])}],i=n("2513"),a={name:"Profile",data:function(){return{user_Id:"",editingUsername:!1,editingEmail:!1,isDisplay:!1}},computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/login")},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")},editDeleteUser:function(){var e=this;this.$confirm("Account will be deleted this action is irreversible","Are you sure ?").then((function(){e.deleteUser()})).catch((function(e){console.log(e)}))},deleteUser:function(){var e=this;i["a"].deleteUser(this.currentUser.id).then((function(){e.logOut()})).catch((function(e){console.log(e)}))},editUserUsername:function(){this.editingUsername=1!=this.editingUsername,0==this.editingUsername&&this.updateUserUsername()},editUserEmail:function(){this.editingEmail=1!=this.editingEmail,0==this.editingEmail&&this.updateUserEmail()},cancelEditUsername:function(){this.editingUsername=0==this.editingUsername;var e=JSON.parse(localStorage.getItem("user"));console.log(e.username),this.currentUser.username=e.username},cancelEditemail:function(){this.editingEmail=0==this.editingEmail;var e=JSON.parse(localStorage.getItem("user"));console.log(e.username),this.currentUser.email=e.email},updateUserEmail:function(){var e=this;i["a"].updateUser(this.currentUser.id,this.currentUser).then((function(t){t&&(localStorage.user=JSON.stringify(e.currentUser))})).catch((function(){var t=JSON.parse(localStorage.getItem("user"));console.log("email already exist"),e.$alert("email already exist").then((function(){return e.currentUser.email=t.email}))}))},updateUserUsername:function(){var e=this;i["a"].updateUser(this.currentUser.id,this.currentUser).then((function(t){t&&(localStorage.user=JSON.stringify(e.currentUser))})).catch((function(){var t=JSON.parse(localStorage.getItem("user"));console.log("user already exist"),e.$alert("user already exist").then((function(){return e.currentUser.username=t.username}))}))}}},c=a,u=(n("2a37"),n("2877")),o=Object(u["a"])(c,r,s,!1,null,null,null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-714f30e0.8839be32.js.map